<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="612px" preserveAspectRatio="none" style="width:844px;height:612px;" version="1.1" viewBox="0 0 844 612" width="844px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ns9pxqims5uk" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="612" x="118.5" y="28.708">Alternative D: Event-based notification between RouDi and User App</text><rect fill="#FFFFFF" filter="url(#f1ns9pxqims5uk)" height="164.5313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="55" y="352.3125"/><rect fill="#FFFFFF" filter="url(#f1ns9pxqims5uk)" height="92.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="390" y="85.25"/><rect fill="#FFFFFF" filter="url(#f1ns9pxqims5uk)" height="287.0625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="390" y="256.9141"/><rect fill="#FFFFFF" filter="url(#f1ns9pxqims5uk)" height="203.7969" style="stroke:#000000;stroke-width:2.0;" width="448" x="10" y="306.0469"/><rect fill="#FFFFFF" filter="url(#f1ns9pxqims5uk)" height="88.3984" style="stroke:#000000;stroke-width:2.0;" width="428" x="20" y="414.4453"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="60" x2="60" y1="75.25" y2="568.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="395" x2="395" y1="75.25" y2="568.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="637.5" x2="637.5" y1="75.25" y2="568.9766"/><rect fill="#FEFECE" filter="url(#f1ns9pxqims5uk)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="56" x="30" y="39.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="37" y="59.9482">RouDi</text><rect fill="#FEFECE" filter="url(#f1ns9pxqims5uk)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="56" x="30" y="567.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="37" y="587.9717">RouDi</text><rect fill="#FEFECE" filter="url(#f1ns9pxqims5uk)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="82" x="352" y="39.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="359" y="59.9482">UserAppA</text><rect fill="#FEFECE" filter="url(#f1ns9pxqims5uk)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="82" x="352" y="567.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="359" y="587.9717">UserAppA</text><rect fill="#FEFECE" filter="url(#f1ns9pxqims5uk)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="83" x="594.5" y="39.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="601.5" y="59.9482">UserAppB</text><rect fill="#FEFECE" filter="url(#f1ns9pxqims5uk)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="83" x="594.5" y="567.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="601.5" y="587.9717">UserAppB</text><rect fill="#FFFFFF" filter="url(#f1ns9pxqims5uk)" height="164.5313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="55" y="352.3125"/><rect fill="#FFFFFF" filter="url(#f1ns9pxqims5uk)" height="92.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="390" y="85.25"/><rect fill="#FFFFFF" filter="url(#f1ns9pxqims5uk)" height="287.0625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="390" y="256.9141"/><line style="stroke:#A80036;stroke-width:1.0;" x1="400" x2="442" y1="106.3828" y2="106.3828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="442" x2="442" y1="106.3828" y2="119.3828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="401" x2="442" y1="119.3828" y2="119.3828"/><polygon fill="#A80036" points="411,115.3828,401,119.3828,411,123.3828,407,119.3828" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="407" y="101.3169">DiscoveryInfo::DiscoveryInfo()</text><polygon fill="#A80036" points="71,144.5156,61,148.5156,71,152.5156,67,148.5156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="65" x2="389" y1="148.5156" y2="148.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="306" x="77" y="143.4497">getMiddlewareSubscriber() / CREATE_Subscriber</text><polygon fill="#A80036" points="383,173.6484,393,177.6484,383,181.6484,387,177.6484" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="60" x2="389" y1="177.6484" y2="177.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="67" y="172.5825">CREATE_SUBSCRIBER_ACK</text><line style="stroke:#A80036;stroke-width:1.0;" x1="395" x2="437" y1="206.7813" y2="206.7813"/><line style="stroke:#A80036;stroke-width:1.0;" x1="437" x2="437" y1="206.7813" y2="219.7813"/><line style="stroke:#A80036;stroke-width:1.0;" x1="396" x2="437" y1="219.7813" y2="219.7813"/><polygon fill="#A80036" points="406,215.7813,396,219.7813,406,223.7813,402,219.7813" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229" x="402" y="201.7153">Listener::attachEvent(discoveryInfo)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="395" x2="442" y1="243.9141" y2="243.9141"/><line style="stroke:#A80036;stroke-width:1.0;" x1="442" x2="442" y1="243.9141" y2="256.9141"/><line style="stroke:#A80036;stroke-width:1.0;" x1="401" x2="442" y1="256.9141" y2="256.9141"/><polygon fill="#A80036" points="411,252.9141,401,256.9141,411,260.9141,407,256.9141" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="407" y="238.8481">Listener::wait()</text><path d="M513,234.2813 L513,259.2813 L835,259.2813 L835,244.2813 L825,234.2813 L513,234.2813 " fill="#FBFB77" filter="url(#f1ns9pxqims5uk)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M825,234.2813 L825,244.2813 L835,244.2813 L825,234.2813 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="301" x="519" y="251.3481">Only react on CaproMessageSubType::SERVICE</text><polygon fill="#A80036" points="71,287.0469,61,291.0469,71,295.0469,67,291.0469" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="65" x2="637" y1="291.0469" y2="291.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="77" y="285.981">offer()</text><path d="M10,306.0469 L87,306.0469 L87,313.0469 L77,323.0469 L10,323.0469 L10,306.0469 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="203.7969" style="stroke:#000000;stroke-width:2.0;" width="448" x="10" y="306.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="25" y="319.1138">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="91" x="102" y="318.2573">[every 100ms]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="60" x2="107" y1="339.3125" y2="339.3125"/><line style="stroke:#A80036;stroke-width:1.0;" x1="107" x2="107" y1="339.3125" y2="352.3125"/><line style="stroke:#A80036;stroke-width:1.0;" x1="66" x2="107" y1="352.3125" y2="352.3125"/><polygon fill="#A80036" points="76,348.3125,66,352.3125,76,356.3125,72,352.3125" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="72" y="334.2466">doDiscovery()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="65" x2="107" y1="386.4453" y2="386.4453"/><line style="stroke:#A80036;stroke-width:1.0;" x1="107" x2="107" y1="386.4453" y2="399.4453"/><line style="stroke:#A80036;stroke-width:1.0;" x1="66" x2="107" y1="399.4453" y2="399.4453"/><polygon fill="#A80036" points="76,395.4453,66,399.4453,76,403.4453,72,399.4453" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="72" y="381.3794">doDiscoveryForPublisherPorts()</text><path d="M20,414.4453 L84,414.4453 L84,421.4453 L74,431.4453 L20,431.4453 L20,414.4453 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="88.3984" style="stroke:#000000;stroke-width:2.0;" width="428" x="20" y="414.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="35" y="427.5122">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="164" x="99" y="426.6558">[CaproMessage received]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="65" x2="107" y1="452.7109" y2="452.7109"/><line style="stroke:#A80036;stroke-width:1.0;" x1="107" x2="107" y1="452.7109" y2="465.7109"/><line style="stroke:#A80036;stroke-width:1.0;" x1="66" x2="107" y1="465.7109" y2="465.7109"/><polygon fill="#A80036" points="76,461.7109,66,465.7109,76,469.7109,72,465.7109" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="72" y="447.645">sendToAllMatchingInterfaces()</text><polygon fill="#A80036" points="378,490.8438,388,494.8438,378,498.8438,382,494.8438" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="65" x2="384" y1="494.8438" y2="494.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="72" y="489.7778">publish(ServiceRegistryTopic)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="400" x2="442" y1="542.9766" y2="542.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="442" x2="442" y1="542.9766" y2="555.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="395" x2="442" y1="555.9766" y2="555.9766"/><polygon fill="#A80036" points="405,551.9766,395,555.9766,405,559.9766,401,555.9766" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="407" y="537.9106">wake up from Listener::wait()</text></g></svg>